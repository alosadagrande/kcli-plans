parameters:
 template: CentOS-7-x86_64-GenericCloud.qcow2
 memory: 8144
 disk_size: 40
 domain: localdomain
 pool: default
 branch: stable-3.2
 radosgw: false
 cephfs: false

{% for node in range(0, 3) %}
ceph0{{ node + 1 }}:
 template: {{ template }}
 memory: {{ memory }}
 nets:
 - default
 numcpus: 2
 disks:
  - size: 10
  - size: {{ disk_size }}
 pool: {{ pool }}
 reservedns: true
 domain: {{ domain }}
 start: True
 sharedkey: True
 scripts:
 - pre.sh
{% if node == 0 %}
 - deploy.sh
 files:
 - all.yml
 - inventory
{% if type == 'ovirt' %}
  - path: /root/ovirt_fix_inventory.sh
    origin: ovirt_fix_inventory.sh
{% endif %}
{% endif %}
{% endfor %}
